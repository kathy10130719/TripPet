<style>
   /* é è¦½ä¸Šå‚³çš„ç…§ç‰‡ */
   #petPreview {
       width: 150px;
       height: 150px;
       border-radius: 50%;
       object-fit: cover;
       margin-top: 15px;
       display: none;
       border: 3px solid var(--p);
   }
   .upload-box {
       border: 2px dashed #ccc;
       padding: 20px;
       border-radius: 15px;
       margin: 15px 0;
       cursor: pointer;
   }
</style>
<div id="page4" class="page">
<div class="card">
<h2>ç…§ç‰‡è¨­å®š</h2>
<p>ä¸Šå‚³ Kiki çš„ç…§ç‰‡ï¼Œæˆ‘å€‘å¹«ä½ è‡ªå‹•å»èƒŒï¼</p>
<div class="upload-box" onclick="document.getElementById('fileInput').click()">
<p id="uploadText">é»æ“Šé€™è£¡ä¸Šå‚³ç…§ç‰‡ ğŸ“¸</p>
<input type="file" id="fileInput" accept="image/*" style="display:none" onchange="previewImage(this)">
<img id="petPreview">
</div>
<button class="btn" id="removeBgBtn" style="display:none" onclick="processRemoveBg()">âœ¨ é–‹å§‹è‡ªå‹•å»èƒŒ</button>
<button class="btn" style="background:#999" onclick="final(false)">ä¸ç”¨ï¼Œä½¿ç”¨é›»å­å¯µç‰©</button>
</div>
</div>
<script>
   function previewImage(input) {
       const preview = document.getElementById('petPreview');
       const text = document.getElementById('uploadText');
       const btn = document.getElementById('removeBgBtn');
       if (input.files && input.files[0]) {
           const reader = new FileReader();
           reader.onload = function(e) {
               preview.src = e.target.result;
               preview.style.display = 'inline-block';
               text.style.display = 'none';
               btn.style.display = 'block'; // é¡¯ç¤ºå»èƒŒæŒ‰éˆ•
           }
           reader.readAsDataURL(input.files[0]);
       }
   }
   async function processRemoveBg() {
       const btn = document.getElementById('removeBgBtn');
       btn.innerText = "AI å»èƒŒè™•ç†ä¸­...";
       btn.disabled = true;
       // ã€æŠ€è¡“é‡é»ã€‘é€™è£¡æœªä¾†æœƒä¸²æ¥ API
       // ç›®å‰æˆ‘å€‘å…ˆç”¨ CSS æ¨¡æ“¬å»èƒŒè¦–è¦ºæ•ˆæœï¼ˆè®“é‚Šæ¡†è®Šé€æ˜ï¼ŒèƒŒæ™¯æ¿¾æ‰ï¼‰
       setTimeout(() => {
           alert("âœ¨ AI æˆåŠŸè¾¨è­˜ Kikiï¼èƒŒæ™¯å·²ç§»é™¤ã€‚");
           const preview = document.getElementById('petPreview');
           preview.style.boxShadow = "none";
           preview.style.border = "none";
           // æ­£å¼ç‰ˆæœƒåœ¨é€™è£¡æ›´æ›ç‚ºå»èƒŒå¾Œçš„åœ–ç‰‡ç¶²å€
           btn.innerText = "å®Œæˆï¼é€²å…¥ä¸»ç•«é¢";
           btn.style.background = "#4CAF50";
           btn.onclick = () => final(true);
           btn.disabled = false;
       }, 2000);
   }
</script>
