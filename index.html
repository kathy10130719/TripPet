<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TripPet - ä½ çš„æ—…éŠå¤¥ä¼´</title>
<style>
       :root {
           --primary-color: #FF9800;
           --bg-color: #FFF3E0;
       }
       body {
           font-family: -apple-system, sans-serif;
           background-color: var(--bg-color);
           margin: 0;
           display: flex;
           flex-direction: column;
           align-items: center;
           min-height: 100vh;
           max-width: 500px;
           margin: 0 auto;
           border-left: 1px solid #FFE0B2;
           border-right: 1px solid #FFE0B2;
       }
       /* --- äº’å‹•å¼éˆé­‚å°çª— (å‹•æ…‹å³¶) --- */
       .status-portal {
           width: 180px;
           height: 40px;
           background: #000; /* ç´”é»‘æ›´æœ‰è³ªæ„Ÿ */
           border-radius: 25px;
           margin-top: 20px;
           display: flex;
           align-items: center;
           /* justify-content: center;  ç§»é™¤ç½®ä¸­ï¼Œæ”¹ç”¨ padding */
           padding: 0 15px; /* å·¦å³ç•™é‚Šè· */
           color: white;
           box-shadow: 0 4px 15px rgba(0,0,0,0.3);
           position: relative; /* ç‚ºäº†è®“è£¡é¢çš„å¯µç‰©å®šä½ */
           overflow: hidden; /* ç¢ºä¿å¯µç‰©ä¸æœƒè·‘åˆ°å³¶å¤–é¢ */
       }
       /* ä½åœ¨å³¶è£¡é¢çš„å¯µç‰© */
       .pet-in-island {
           font-size: 24px;
           margin-right: 12px;
           /* æ–°å‹•ç•«ï¼šæ¨¡æ“¬èµ°è·¯çš„å°è·³å‹• */
           animation: walk-in-place 0.8s ease-in-out infinite alternate;
       }
       @keyframes walk-in-place {
           0% { transform: translateY(0px) rotate(0deg); }
           100% { transform: translateY(-3px) rotate(5deg); } /* è¼•å¾®å¾€ä¸Šè·³ä¸¦æ­ªé ­ */
       }
       #displayPetName {
           font-size: 14px;
           font-weight: 500;
       }
       /* --- ä¸»ç•«é¢å¡ç‰‡ --- */
       .main-card {
           width: 85%;
           background: white;
           border-radius: 30px;
           margin-top: 30px;
           padding: 30px 25px;
           box-shadow: 0 10px 25px rgba(255,152,0,0.1);
           text-align: center;
       }
       h1 { color: var(--primary-color); font-size: 22px; margin-bottom: 10px; }
       .greeting { font-size: 16px; color: #666; margin-bottom: 30px; line-height: 1.5; }
       /* --- å¯µç‰©é¸æ“‡å€ --- */
       #setupSection {
           display: none; /* é è¨­éš±è—ï¼Œéœ€è¦è¨­å®šæ™‚æ‰é¡¯ç¤º */
       }
       .pet-grid {
           display: grid;
           grid-template-columns: repeat(4, 1fr); /* ä¸€æ’å››å€‹ */
           gap: 15px;
           margin-bottom: 25px;
       }
       .pet-option {
           font-size: 35px;
           background: #f5f5f5;
           border-radius: 15px;
           padding: 10px;
           cursor: pointer;
           transition: all 0.2s;
           border: 2px solid transparent;
       }
       .pet-option:hover, .pet-option.selected {
           background: #FFF3E0;
           border-color: var(--primary-color);
           transform: scale(1.1);
       }
       /* æŒ‰éˆ•æ¨£å¼ */
       .btn-primary {
           background-color: var(--primary-color);
           color: white;
           border: none;
           padding: 12px 30px;
           border-radius: 50px;
           font-size: 16px;
           cursor: pointer;
           box-shadow: 0 4px 10px rgba(255,152,0,0.3);
       }
       .btn-secondary {
           background-color: #eee;
           color: #777;
           border: none;
           padding: 10px 20px;
           border-radius: 50px;
           font-size: 14px;
           cursor: pointer;
           margin-top: 20px;
       }
       #mainContentSection {
           display: none; /* é è¨­éš±è—ï¼Œè¨­å®šå®Œæ‰é¡¯ç¤º */
       }
</style>
</head>
<body onload="initApp()">
<div class="status-portal">
<span class="pet-in-island" id="islandPetIcon">ğŸ¾</span>
<div id="displayPetName">è¼‰å…¥ä¸­...</div>
</div>
<div class="main-card">
<h1>ğŸŒ TripPet æ—…éŠåŠ©æ‰‹</h1>
<div id="setupSection">
<p class="greeting">å—¨ï¼åˆæ¬¡è¦‹é¢ã€‚<br>è«‹é¸æ“‡ä½ æƒ³é ˜é¤Šçš„æ—…éŠå¤¥ä¼´ï¼š</p>
<div class="pet-grid">
<div class="pet-option" onclick="selectPet(this, 'ğŸ¶')">ğŸ¶</div>
<div class="pet-option" onclick="selectPet(this, 'ğŸ±')">ğŸ±</div>
<div class="pet-option" onclick="selectPet(this, 'ğŸ°')">ğŸ°</div>
<div class="pet-option" onclick="selectPet(this, 'ğŸ¤')">ğŸ¤</div>
<div class="pet-option" onclick="selectPet(this, 'ğŸ·')">ğŸ·</div>
<div class="pet-option" onclick="selectPet(this, 'ğŸ¦Š')">ğŸ¦Š</div>
<div class="pet-option" onclick="selectPet(this, 'ğŸ¼')">ğŸ¼</div>
<div class="pet-option" onclick="selectPet(this, 'ğŸ¨')">ğŸ¨</div>
</div>
<input type="text" id="nameInput" placeholder="å¹«ç‰ å–å€‹åå­—å§" style="padding: 10px; border: 1px solid #ddd; border-radius: 10px; margin-bottom: 20px; width: 80%; text-align: center;">
<br>
<button class="btn-primary" onclick="finishSetup()">ç¢ºèªé ˜é¤Šï¼</button>
</div>

<div id="mainContentSection">
<p class="greeting" id="welcomeMessage">æº–å‚™å¥½å‡ºç™¼äº†å—ï¼Ÿ</p>
<p style="color: #999; font-size: 14px;">(æ›´å¤šåŠŸèƒ½é€±æœ«å³å°‡ä¸Šç·š...)</p>
<button class="btn-secondary" onclick="resetPet()">é‡æ–°é¸æ“‡å¯µç‰©</button>
</div>
</div>
<script>
       // å…¨åŸŸè®Šæ•¸ï¼Œæš«å­˜ä½¿ç”¨è€…çš„é¸æ“‡
       let selectedEmoji = null;
       // App åˆå§‹åŒ–
       function initApp() {
           let savedName = localStorage.getItem("TripPet_Name");
           let savedIcon = localStorage.getItem("TripPet_Icon");
           if (!savedName || !savedIcon) {
               // å¦‚æœæ²’æœ‰å­˜æª”ï¼Œé¡¯ç¤ºè¨­å®šå€
               document.getElementById('setupSection').style.display = 'block';
               document.getElementById('mainContentSection').style.display = 'none';
               document.getElementById('displayPetName').innerText = "ç­‰å¾…é ˜é¤Šä¸­...";
           } else {
               // å¦‚æœæœ‰å­˜æª”ï¼Œç›´æ¥é€²å…¥ä¸»ç•«é¢
               showMainUI(savedName, savedIcon);
           }
       }
       // é¸æ“‡å¯µç‰©æ™‚çš„å‹•ä½œ
       function selectPet(element, emoji) {
           // æ¸…é™¤å…¶ä»–é¸é …çš„é¸å–ç‹€æ…‹
           document.querySelectorAll('.pet-option').forEach(el => el.classList.remove('selected'));
           // è¨­å®šç•¶å‰é¸é …ç‚ºé¸å–ç‹€æ…‹
           element.classList.add('selected');
           selectedEmoji = emoji;
           // è®“å³¶ä¸Šçš„å¯µç‰©å…ˆé è¦½è®Šèº«
           document.getElementById('islandPetIcon').innerText = selectedEmoji;
       }
       // å®Œæˆè¨­å®š
       function finishSetup() {
           let nameInput = document.getElementById('nameInput').value.trim();
           if (!selectedEmoji) {
               alert("è«‹å…ˆé»é¸ä¸€éš»å–œæ­¡çš„å¯µç‰©å–”ï¼");
               return;
           }
           if (nameInput === "") {
               nameInput = "å°å¤¥ä¼´"; // é è¨­åå­—
           }
           // å­˜æª”
           localStorage.setItem("TripPet_Name", nameInput);
           localStorage.setItem("TripPet_Icon", selectedEmoji);
           // é€²å…¥ä¸»ç•«é¢
           showMainUI(nameInput, selectedEmoji);
       }
       // é¡¯ç¤ºä¸»ç•«é¢ä¸¦æ›´æ–° UI
       function showMainUI(name, icon) {
           document.getElementById('setupSection').style.display = 'none';
           document.getElementById('mainContentSection').style.display = 'block';
           // æ›´æ–°å‹•æ…‹å³¶
           document.getElementById('islandPetIcon').innerText = icon;
           document.getElementById('displayPetName').innerText = name;
           // æ›´æ–°æ­¡è¿è©
           document.getElementById('welcomeMessage').innerHTML = `å—¨ï¼æˆ‘æ˜¯ <b>${name}</b>ã€‚<br>æˆ‘å€‘ä»€éº¼æ™‚å€™è¦å‡ºç™¼å»æ—…è¡Œï¼ŸğŸ—ºï¸`;
       }
       // é‡ç½®è¨­å®š
       function resetPet() {
           if(confirm("ç¢ºå®šè¦é‡æ–°é¸æ“‡å¯µç‰©å—ï¼ŸèˆŠçš„ç´€éŒ„æœƒæ¶ˆå¤±å–”ï¼")) {
               localStorage.clear();
               location.reload();
           }
       }
</script>
</body>
</html>
